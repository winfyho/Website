# vue 组件间的数据通信

> prevent修饰符用于v-on指令，表示阻止默认行为
> stop修饰符用于v-on指令，表示阻止事件冒泡

## 组件的状态和属性

通常讲组件中需要自身管理的数据（组件配置中的data），叫做组件状态（component state）

组件状态只能在组件内部使用，外部原则上不可以使用

1. data（state 状态）在组件中的配置和在vue实例中的配置的区别：

在组件中data必须是一个函数，而vue实例中必须是一个对象

2. 组件中可以有属性（component props），而vue实例中没有

声明组件属性时，使用短横线或小驼峰命名法

传递组件属性时，使用短横线或小驼峰命名法

属性会被提升到vue组件实例中

**组件的属性是只读的，不允许更改，根本原因是要保证单向数据流**

key是内置属性，当循环渲染自定义组件时，建议使用该属性，并且提供给唯一的值，通常是id，以便vue提高渲染效率

## 自定义事件

在组件中触发事件：```this.$emit("事件名", 事件参数...)```

当一个组件状态发生变化时，该组件会重新渲染，在渲染的过程中，可能会导致其子组件的属性发生变化，而属性的变化会导致组件重新渲染。但根本原因，是状态的变化。

v-model的本质是一个语法糖，实际上，是绑定value属性，同时监听input事件

## 实例生命周期

![](assets/2019-09-26-16-59-42.png)

- beforeCreate：组件实例刚刚创建好之后，此时，组件实例中还没有提升任何的成员
- created：组件实例中已经提升了该有成员，但是，此时还没有渲染页面的任何内容
- beforeMount: 组件即将进行渲染，但是还没有进行渲染，此时，已经编译好模板，渲染的所有条件已经满足
- mounted：【重要！！！】，组件已经完成了渲染(页面可见)

- 此时，等待组件更新（当一个组件的属性或状态发生变化的时候，会自动重新渲染）

- beforeUpdate：组件即将更新，还没有更新，此时，得到的数据是新的，但是界面是旧的
- updated：组件已经完成更新，此时数据和界面都是新的

- beforeDestroy: 当组件即将被销毁时
- destroyed：当组件已经被销毁后

## 插槽

插槽（slot）位置放置的是：使用组件时传递的元素内容